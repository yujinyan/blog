---
title: "谈谈 Kotlin 协程的 Context 和 Scope"
date: "2021-02-03T23:56:03.284Z"
---

<!-- ![linked list](./context-linked-list.svg) -->


The `issues` feature of this project serves as comment section for blog contents, powered by [utterances](https://utteranc.es/).

To enable the comment section for a blog post, I manually create an issue, take note of the issue id and record it in the corresponding post's front matter with a custom attribute `issueId`. This could be automated in the future.

Feel free to open new issues for older posts.

The `issues` feature of this project serves as comment section for blog contents, powered by [utterances](https://utteranc.es/).

To enable the comment section for a blog post, I manually create an issue, take note of the issue id and record it in the corresponding post's front matter with a custom attribute `issueId`. This could be automated in the future.

Feel free to open new issues for older posts.

<!-- https://excalidraw.com/#json=5436813971816448,ytof1UyCBwV0fRCIomzUHg -->


<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 550 198.5" width="550" height="198.5" class="excalidraw">
  <!-- svg-source:excalidraw -->
  
  <defs>
    <style>
      @font-face {
        font-family: "Virgil";
        src: url("https://excalidraw.com/FG_Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("https://excalidraw.com/Cascadia.woff2");
      }
    </style>
  </defs>
  <!-- <rect x="0" y="0" width="550" height="198.5" fill="#ffffff"></rect> -->
  <g transform="translate(16.75 60.75) rotate(0 97.5 20.5)"><path d="M-0.09447049722075462 -0.18537134304642677 C50.52070094365627 0.8206106170080603, 101.56458713673057 2.3993174775503574, 193.16185009852052 -1.3338943161070347 M-0.635643633082509 0.84618747420609 C54.793372576124966 0.3350988698191941, 108.67365030571818 -0.9121679591946303, 195.90093663148582 -0.8878615479916334 M196.46777260676026 -1.1484990753233433 C195.78259495826438 12.035203442536295, 195.17223564716056 25.825286423042417, 193.1717288531363 40.52346974238753 M195.62685873918235 -0.9018009286373854 C193.84351089304312 15.484300152026117, 195.06740411823614 31.220439761132003, 194.32496663741767 40.464554788544774 M195.29976439848542 42.92727928981185 C145.47674053441733 40.31471061715856, 98.0602146256715 41.498802304361014, -1.2062364779412746 42.75897329673171 M194.06195136718452 40.45444536395371 C141.88209967967123 41.798828926216814, 90.10016478598116 43.24587896121666, 0.952531723305583 40.658815683797 M-1.0461269579827785 39.40561121329665 C1.5128356462530792 25.11704973671585, 0.9222135788016022 12.062554269656534, 1.6779785193502903 1.701107557862997 M0.7596611063927412 40.601266684010625 C1.0348213545419276 33.10424308795482, 0.8016413680650294 24.739118371903896, 0.16858061961829662 -0.44491040520370007" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(286 10) rotate(0 111 63)"><path d="M-0.556078681599868 -0.6136347072325221 C48.44917637131397 -1.8167114045479706, 95.8714920810996 -0.08622959413463428, 221.60610575849006 -0.252826329141926 M-0.30786998275679306 -0.2699960531610075 C59.522634636432734 -0.6815391052174652, 120.59661338087899 -0.9749043227202379, 221.36517936167758 0.4259499359444435 M221.45735511742538 1.9888732377439737 C222.82840884016832 44.89971147272734, 222.8173527150043 93.35448929816481, 222.38591769896453 126.6332467142492 M222.4079769523815 -0.5445315958932042 C221.92001609409235 34.4668701134622, 220.6451138397493 68.00865493286399, 222.48863517958677 126.90875383000815 M222.26071182403732 127.29552370224489 C143.72784622335433 126.29443592358308, 70.0867188957053 128.89153843164505, 0.6622328397115341 126.20608251546885 M221.68320290499514 126.4615686182839 C167.3295141700761 126.07855638778958, 112.66557294647332 126.9207563620997, -0.4516642999228473 125.60189602423429 M0.46150157414376736 127.14248549379403 C0.7337576579861345 85.71426119189707, -1.846386449355632 41.70705167576669, 1.5617064591497183 1.1324896160513163 M-0.7070294348523021 126.98215024452651 C-0.8796356229670343 98.48750192262227, 0.692109385263175 70.43137880060819, 0.567867455072701 -0.4700761856511235" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(306 12.5) rotate(0 79 16)"><text x="0" y="23" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">CombinedElement</text></g><g transform="translate(342 59.5) rotate(0 18.5 16)"><text x="0" y="23" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">left</text></g><g transform="translate(340 96.5) rotate(0 79 16)"><text x="0" y="23" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">element: Element</text></g><g transform="translate(32 63.5) rotate(0 89 16)"><text x="0" y="23" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">CoroutineContext</text></g><g transform="translate(308 70) rotate(0 6 7)"><path d="M0 0 C0 0, 0 0, 0 0 M0 0 C0 0, 0 0, 0 0 M-0.6702585562737533 5.929368396897905 C1.7294830966249544 5.086485363212361, 3.1857604902678536 2.922851343993131, 4.9874858457171385 0.6686130512354188 M0.023956440049236083 6.781455903922312 C1.9529901430832226 4.4358387740749485, 3.906718879509408 2.0847026167682623, 4.777400474207944 0.4376449309137874 M-0.7112151808012618 12.312186135768473 C2.0426483973941383 9.639669575157091, 4.894167498277893 7.539329029819408, 9.38755456800474 -0.8548369456932186 M-0.47142021794806854 11.45483802226144 C4.33801962190111 8.121094403640452, 8.382845263094481 3.241320592134186, 11.322452866238487 0.22091709553149963 M2.920754705709204 17.77042222677231 C3.409506644221053 12.71730687398146, 8.411602163102835 8.844542858748634, 13.470915124121655 1.342117775147637 M2.5714882148567435 17.02764228766285 C5.254722959862326 12.425931986263562, 6.267762185321989 10.452900514756406, 14.703034247247103 1.2643101636877707 M6.510529687683306 16.557833556877164 C9.027880049218203 12.467794775305059, 11.885612154563907 10.379021187181614, 14.019532127732957 7.813637383527084 M7.493588255307845 15.77795136100584 C9.66224350604489 13.239036307658894, 11.525661064485416 11.279016266546389, 14.377832854128057 8.348001201416327" stroke="#868e96" stroke-width="0.5" fill="none"></path><path d="M-1.024143161997199 1.1854272332042457 C3.749898594617844 -0.8175451892986894, 4.717602231726051 0.6127180558070541, 12.97085754610598 -0.5353919181972742 M-0.48562855292111634 0.22412194479256864 C3.48711378145963 0.33894669190049176, 5.952072416804731 0.5454378224909306, 12.492003749124706 0.31297399867326015 M10.999810911156237 0.27249242272228 C11.085496607255191 4.529436395689845, 12.99042192382738 5.571135884709657, 13.02510321829468 15.157450302504003 M12.37571729226038 0.6494147007353603 C12.611702532805504 4.097190336789936, 12.642597160972656 8.695338764134794, 12.603816826175898 14.242016336787492 M10.830780014768242 12.982092877849936 C9.284290004521608 14.299470925219357, 7.875919882580638 13.261946236975492, -0.6362729575484991 13.26806617639959 M12.212753478996456 14.223184637911618 C8.923255647160111 13.785870190486312, 5.892612299881875 14.11877848111093, 0.1535110099241137 14.129960046894848 M-0.5587958922609686 12.7634846707806 C-0.0964853093586861 9.847913354635237, -1.189201365467161 6.247847066260873, -0.8736933281645178 -0.45064382944256065 M0.3051636497490109 13.754537034500391 C-0.5992160777002573 10.161103149782866, -0.08218081690371037 5.79846808174625, -0.2190571059472859 0.0944388185627758" stroke="#000000" stroke-width="1" fill="none"></path></g><g><g transform="translate(307 79.92692863806462) rotate(0 -43.64513931641358 -0.6741203188995541)"><path d="M0.3155657138675452 -0.12742589972913265 C-14.14481690265239 -0.19918224109288002, -72.40256947614257 0.45644558454176076, -86.77560582496231 0.2763773993059431 M-0.9779010156914593 -1.239928442426026 C-15.57550579469652 -1.7326901031466917, -73.41503732007001 -1.7088486370606197, -87.60584434669471 -1.567305144888219" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(307 79.92692863806462) rotate(0 -43.64513931641358 -0.6741203188995541)"><path d="M-59.66684027110837 -11.561524520884234 C-66.92220226807142 -6.9669426377713695, -77.81007892318681 -7.230087970517316, -89.51192694146192 -2.0802371530205575 M-59.18087073603324 -11.326096909376759 C-69.05806973020712 -9.110822445636918, -77.66522085152592 -4.968072704720584, -86.82607886277145 -1.5076306853786674" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(307 79.92692863806462) rotate(0 -43.64513931641358 -0.6741203188995541)"><path d="M-59.58845548148744 8.95953437505473 C-66.98813475215526 7.420766208680863, -77.8994399015391 1.0240646968474119, -89.51192694146192 -2.0802371530205575 M-59.102485946412315 9.194961986562205 C-68.99394602786187 4.98838792888675, -77.62562780800562 2.7090359210142365, -86.82607886277145 -1.5076306853786674" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g transform="translate(308 110) rotate(0 6.5 8)"><path d="M0 0 C0 0, 0 0, 0 0 M0 0 C0 0, 0 0, 0 0 M-0.5739238366158554 6.5026210032898115 C1.304038229960617 3.847869428811542, 2.6708122081203554 2.565897193523096, 4.634295876654333 -0.16438357943322124 M-0.2743327993573496 6.461580508624308 C2.114221681164355 4.142532806171329, 3.8148002261942917 1.5604009934158185, 4.9478005811148345 0.22120543344293175 M-1.4153856462706222 11.699647464274943 C2.742956257582179 9.474365343707177, 5.5711084574028185 6.500227444404798, 11.610653084468973 1.5336512993171576 M-0.030259896712411694 12.304704388647854 C3.3006241446385705 7.785822418816148, 6.187624591358991 5.0382265921410605, 10.325723325413596 0.6892519372597101 M-0.4158234076343028 17.188411003335673 C4.472526811781457 10.511275155014804, 7.332528512602195 7.8391255281679495, 15.395073692373472 0.02026787768227223 M1.8234640795968922 17.834707140348215 C4.523095828599249 14.358584928981452, 7.181661453349424 10.179956245684423, 14.507537605300087 1.7658087582804 M5.868557844012372 17.895163679185362 C7.33797700066034 15.25062399351858, 9.442491418542964 14.029657353603039, 15.782782054132337 8.270736627005306 M6.5138003314187305 17.69527327149831 C8.801986263395662 14.762869031419157, 10.124753252813722 11.79055742514545, 14.646891317468622 7.788987132864337 M11.670309389916985 17.003292499009603 C12.52433030900658 15.922335359706873, 13.593668809917595 14.655381085995183, 14.7960546835638 13.533970200323868 M11.939006423553257 16.877803155493076 C12.770517005791985 15.939487260610324, 13.506647691335875 15.176207707684602, 14.41651369606474 13.910962633283246" stroke="#868e96" stroke-width="0.5" fill="none"></path><path d="M-0.7456377395428717 -0.879325473960489 C2.2568892076611524 0.8914931151364, 6.423282484058291 0.28473911912180483, 13.447455354686827 0.9174260878004132 M-0.13956026020459833 -0.11332033616490667 C3.4887371975462886 0.2638714208826422, 5.998813801491633 0.38993835743516686, 12.72653970089741 -0.0020979810971766266 M12.829045657813548 0.6629483178257942 C14.177770025879145 3.6105446249246604, 14.403907425552607 9.404913698136808, 13.598717622458935 17.498353715240956 M13.258468840271235 -0.2506112672388554 C13.460126197040081 5.043302292376757, 12.39549156397581 11.497118043154478, 13.652919433265925 16.273963179439306 M13.939540939684957 16.78069953257218 C9.072605380229652 16.31961057859473, 4.3792224292643365 16.3369477309566, 0.4099669120274485 16.912810476962477 M13.13520465013571 16.46366670089774 C8.580785579001532 16.403908587191253, 4.9553044675383715 16.2096184871532, -0.4730475577991456 16.02133747744374 M-0.26277267485857014 16.500211901962757 C-1.468630193024874 10.887181520462034, 0.7153227584064008 5.9413340613245955, 0.48347094506025323 0.025989003479480743 M0.5987482763826848 15.778049268573522 C-0.04272172152996059 11.36575110927224, -0.2975190132856369 6.3304938130080695, 0.44614839330315603 0.02909313663840296" stroke="#000000" stroke-width="1" fill="none"></path></g><g><g transform="translate(287 52) rotate(0 108.81699331924312 1.1922185160964887)"><path d="M-0.8377797994762659 -0.4687005188316107 C35.51502700199682 0.1580892085159803, 182.0955537984768 2.3257853727166777, 218.47176643796257 2.7757818108796983 M0.9232470764592291 -1.760372236557305 C37.100736451012374 -0.8710973614950991, 181.11950212931873 3.3356634448965314, 217.6062801009788 4.144809268750241" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g transform="translate(10 124.5) rotate(0 265 32)"><text x="0" y="23" font-family="Virgil, Segoe UI Emoji" font-size="20.08631993006991px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">Note:</text><text x="0" y="55" font-family="Virgil, Segoe UI Emoji" font-size="20.08631993006991px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">Element, CombinedElement are both CoroutineContext</text></g></svg>





